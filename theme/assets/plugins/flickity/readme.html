<script type="text/javascript">

	// https://flickity.metafizzy.co/options.html

	jQuery(function($) {

		if (typeof $.fn.flickity !== 'undefined') {

			$('.slider').each(function() {

				var wrapper = $(this), carousel = $('.slider', this), slides = wrapper.find('.slide'),
				buttons = $('.btns > span', this);

				buttons.first().addClass('active');

				var args = {
					wrapAround: true,
					prevNextButtons: false,
					pageDots: false,
					adaptiveHeight: false,
					cellSelector: '.slide',
					imagesLoaded: true,
					cellAlign: 'left'
				};

				if (slides.length > 1) {

					carousel.flickity(args);

					$('.arrow_right', this).click(function() {
						carousel.flickity('next');
					});

					$('.arrow_left', this).click(function() {
						carousel.flickity('previous');
					});

					buttons.click(function() {
						carousel.flickity('select', $(this).index());
					});

					carousel.on('select.flickity', function() {
						var flkty = carousel.data('flickity');
						buttons.removeClass('active').eq(flkty.selectedIndex).addClass('active');
					});

					$(window).on('load resize', function() {

						var flkty = carousel.data('flickity');

						flkty.options.draggable = carousel.outerWidth() < slides.outerWidth() * slides.length;

						flkty.updateDraggable();

					});

				}

			});

		}

	});

</script>