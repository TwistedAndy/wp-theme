const Twee={modules:{},initApp:function(){window.addEventListener("load",Twee.initStyles),window.addEventListener("resize",Twee.initStyles),document.addEventListener("DOMContentLoaded",Twee.initStyles),window.addEventListener("load",Twee.initModules),window.addEventListener("rocket-load",Twee.initModules),document.addEventListener("rocket-DOMContentLoaded",Twee.initModules),document.addEventListener("DOMContentLoaded",Twee.initModules)},initStyles:function(){let e=parseInt(window.innerWidth-document.documentElement.clientWidth);(isNaN(e)||e<0)&&(e=0),document.body.style.setProperty("--width-scrollbar",e+"px")},initModules:function(){Object.keys(Twee.getModules()).map(Twee.initModule)},initModule:function(e){let t=Twee.getModule(e),n=!0;return!!t&&(t.deps&&t.deps.length>0&&Array.isArray(t.deps)&&t.deps.forEach((t=>{if(!n||!t)return;const o=Twee.getModule(t);if(o){if(o.deps&&-1!==o.deps.indexOf(e))return console.log("Dependency loop detected: "+t),!0;n=Twee.initModule(t)}else void 0===window[t]&&(n=!1)})),n&&jQuery(t.selector).each((function(){Twee.runModule(this,e,t)})),n)},addModule:function(e,t,n,o=[],i=!1){t=t?t.toString():"html";const s=Twee.getModules();void 0!==s[e]&&console.warn("Module "+e+" is already added"),s[e]={key:e,multiple:i,selector:t,callback:n,deps:o}},getModules:function(){return Twee.modules},getModule:function(e){const t=Twee.getModules();return!("object"!=typeof t[e]||!t[e].selector||"function"!=typeof t[e].callback)&&t[e]},runModules:function(e){const t=Twee.getModules();Object.keys(t).forEach((function(t){const n=Twee.getModule(t);n&&jQuery(e).filter(n.selector).each((function(){Twee.runModule(this,t,n)}))}))},runModule:function(e,t,n){e instanceof HTMLElement&&(Twee.runOnce(e,t)||n.multiple)&&(n.callback.call(e,jQuery,jQuery(e),n),setTimeout((function(){jQuery(e).trigger("twee_init_"+t,[t,n])})))},runOnce:function(e,t,n=0){let o="tw_"+(t=t||"element")+"_loaded";return n>0&&setTimeout((function(){e[o]=!1}),n),!e[o]&&(e[o]=!0,!0)},runLater:function(e,t){let n;return function(){clearTimeout(n),n=setTimeout(e.apply.bind(e,this,arguments),t)}},lockScroll:function(){document.body.classList.add("is_locked")},unlockScroll:function(){document.body.classList.remove("is_locked")},setCookie:function(e,t,n=365){let o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=e.toString()+"="+t.toString()+";expires="+o.toUTCString()+";path=/"},getCookie:function(e){e+="=";let t=decodeURIComponent(document.cookie).split(";");for(let n=0;n<t.length;n++){let o=t[n];for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return""}};Twee.initApp(),Twee.addModule("carousel","html",(function(e,t){e(".items.carousel",t).each((function(){if(!Twee.runOnce(this,"carousel",500))return;let t=e(this),n=t.data("carousel"),o={},i={infinite:!0,center:!1,transition:"slide",slidesPerPage:1,classes:{container:"carousel",viewport:"carousel-viewport",track:"carousel-track",slide:"item"},Dots:{classes:{list:"carousel-dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"></button>',dynamicFrom:3,minCount:3},Navigation:{classes:{container:"carousel-nav",button:"carousel-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:"",prevTpl:""},on:{"ready change":function(t){t.slides.forEach((function(t){t.el.ariaHidden?e("a",t.el).attr("tabindex",-1):e("a",t.el).removeAttr("tabindex")}))}}};t.hasClass("gallery")&&(i.classes.slide="gallery-item",t.hasClass("gallery-columns-1")&&"undefined"!=typeof Thumbs&&(o={Thumbs:Thumbs},i.Dots=!1,i.Thumbs={type:"classic"})),t.on("refresh",(function(){n.reInit(i,o)})),"object"==typeof n?n.reInit(i,o):(n=new Carousel(t.get(0),i,o),t.data("carousel",n))}))}),["Carousel"],!0),Twee.addModule("comments",".comments_box",(function(e,t){var n=e("[data-comments]",t),o=n.data("comments")||{},i=t.find(".comments"),s=o&&o.page===o.pages?-1:1;o.action="comment_list",o.noncer=tw_template.nonce,i.on("reset",(function(){i.children().remove(),o.page=1,n.trigger("click")})),n.on("click",(function(){o.page+=s,e.ajax(tw_template.ajaxurl,{type:"post",dataType:"html",data:o,beforeSend:function(){n.addClass("is_loading")}}).always((function(){n.removeClass("is_loading")})).done((function(s){if(s){var a=e(s).find(".comments").html();a?(i.append(e(a)),o.page<o.pages?n.removeClass("is_hidden"):n.addClass("is_hidden"),t.trigger("init")):n.addClass("is_hidden")}else n.addClass("is_hidden")}))}))})),Twee.addModule("fancybox","section",(function(){Fancybox.bind(this,'a[href*=".png"], a[href*=".jpg"], a[href*=".jpeg"], a[href*=".gif"], a[href*=".webp"]',{groupAll:!0}),Fancybox.bind(this,'a[href*="youtube.com"], a[href*="youtu.be"], a[href*="vimeo.com"], a[href*=".mp4"]',{})}),["Fancybox"]),Twee.addModule("forms",".form_box, .comment_box",(function(e,t){(t=t.hasClass("form_box")&&!t.is("form")?e("form",this):e("form.form_box, form.comment-form",this)).not(".skip_processing").each((function(){if(!runOnce(this,"forms")){var t,n=e(this),o=e('[type="submit"]',n);n.on("submit",(function(t){var s=n.serializeArray();if(0===e('[name="action"]',n).length){var a="email_handler";n.hasClass("comment-form")&&(a="comment_add"),s.push({name:"action",value:a})}return s.push({name:"noncer",value:tw_template.nonce}),e.ajax(tw_template.ajaxurl,{data:s,type:"post",dataType:"json",beforeSend:function(){o.prop("disabled",!0).addClass("is_loading")}}).always((function(){o.prop("disabled",!1).removeClass("is_loading")})).done(i),t.preventDefault(),t.stopPropagation(),!1})),n.on("change","input:file",(function(){var t=new FormData;return t.append("action","email_attachment"),t.append(this.name,this.files[0]),e.ajax(tw_template.ajaxurl,{type:"post",data:t,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){o.prop("disabled",!0).addClass("is_loading")},xhr:function(){var e=new XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){var t=0;e.lengthComputable&&e.total&&(t=Math.round(e.loaded/e.total*100),console.log("Uploading: "+t+"%"))}),!1),e}}).always((function(){o.prop("disabled",!1).removeClass("is_loading")})).done(i),!1})),n.on("click",".remove",(function(){var t=n.serializeArray();t.push({name:"action",value:"email_remove"}),t.push({name:"filename",value:e(this).data("name")}),t.push({name:"noncer",value:tw_template.nonce}),e.ajax(tw_template.ajaxurl,{data:t,type:"post",dataType:"json",beforeSend:function(){o.prop("disabled",!0).addClass("is_loading")}}).always((function(){o.prop("disabled",!1).removeClass("is_loading")})).done(i)}))}function i(o){if(e(".error, .success",n).remove(),o.link&&o.link.length>0&&(window.location.href=o.link),o.errors)for(let i in o.errors)o.errors.hasOwnProperty(i)&&(t=e('<div class="error">'+o.errors[i]+"</div>"),e("[name="+i+"]",n).closest(".field").append(t),t.hide().slideDown());if(o.files)for(let s in o.files)if(o.files.hasOwnProperty(s)){var i=e("[name="+s+"]",n).closest(".field");i.siblings(".notify").slideUp(400,(function(){e(this).remove()})),t=e('<div class="notify">'+o.files[s]+"</div>"),i.after(t),t.hide().slideDown()}o.text&&o.text.length>0&&(t=e('<div class="success">'+o.text+"</div>"),n.append(t),t.hide().slideDown(),n[0].reset())}})),t.on("input change","textarea",(function(){this.style.minHeight="initial",this.style.minHeight=this.scrollHeight+"px"}))})),Twee.addModule("header",".header_box",(function(e,t){var n=e(".submenu",t);function o(n,o){var i=["is_search","is_cart","is_search","is_menu"].filter((function(e){return e!==n}));t.removeClass(i.join(" ")),!n||t.hasClass(n)?(t.removeClass(n),"is_search"===n&&e('[name="s"]',t).blur(),unlockScroll()):(t.addClass(n),"is_search"===n&&e('[name="s"]',t).focus(),o&&lockScroll())}e(window).on("beforeunload pagehide",(function(){o(!1)})),t.on("click",".menu_btn",(function(e){o("is_menu",!0),e.preventDefault()})),t.on("click",".search_btn",(function(e){o("is_search",!0),e.preventDefault()})),t.nextAll("section").first().attr("id","contents"),t.on("click",(function(e){e.target===this&&o(!1)})),n.each((function(){var t=e(this),o=e("> ul",t),i=e("> a",t),s=e("> .back",o);i.click((function(e){window.innerWidth<=1024&&e.preventDefault()})),0===s.length&&(s=e('<li class="back">'+i.text()+"</li>"),o.prepend(s)),t.click((function(e){n.removeClass("is_active is_parent"),window.innerWidth<=1024&&(t.addClass("is_active").parents(".submenu").addClass("is_active is_parent"),n.find(".sub-menu").scrollTop(0)),e.stopPropagation()})),s.click((function(e){t.removeClass("is_active").parents(".submenu").removeClass("is_parent"),e.stopPropagation()}))}))})),Twee.addModule("modals","html",(function(e,t){e("[data-modal]").click((function(t){var n=e(this).data("modal");n&&e("#modal_"+n).trigger("open")})),e('a[href^="#modal_"]').click((function(t){e(e(this).attr("href")).trigger("open"),t.preventDefault()})),t.on("close",".modal_box",(function(){e(this).removeClass("is_visible"),Twee.unlockScroll()})),t.on("open",".modal_box",(function(){e(this).addClass("is_visible"),Twee.lockScroll()})),t.on("click",".modal_box",(function(){e(this).trigger("close")})),t.on("click",".modal_box .modal",(function(t){e(t.target).is(".close, [data-close]")?e(this).trigger("close"):t.stopPropagation()})),t.on("keyup",(function(t){27===t.which&&e(".modal_box").trigger("close")}))})),Twee.addModule("sticky","html",(function(e){let t=document.querySelectorAll(".header_box.is_sticky"),n=e(".header_box").get(0);function o(){let e=0,o=0,s=0,a=[],l=[];if(document.body.classList.contains("admin-bar")){let t=window.innerWidth;t<=782&&t>=600?o+=46:t>782&&(o+=32),e=o}if(t.forEach((function(t){let n=window.getComputedStyle(t,null),o=n.getPropertyValue("position"),i=n.getPropertyValue("bottom"),s=n.getPropertyValue("top"),r=t.getBoundingClientRect();if(r.height>0&&-1!==s.indexOf("px")&&(e+=r.height),"fixed"!==o&&"sticky"!==o)return;let d={element:t,rect:r,top:!1,bottom:!1};"fixed"===o?(s=parseInt(s.replace("px","")),i=parseInt(i.replace("px","")),s<=i?(d.top=s,a.push(d)):(d.bottom=i,l.unshift(d))):-1!==s.indexOf("px")?(d.top=parseInt(s.replace("px","")),a.push(d)):-1!==i.indexOf("px")&&(d.bottom=parseInt(i.replace("px","")),l.unshift(d))})),a.length>0&&a.sort((function(e,t){return e.rect.top-t.rect.top})),l.length>0&&l.sort((function(e,t){return t.rect.top-e.rect.top})),a.concat(l).forEach((function(e){var t=e.element,n=e.rect,i=!1,a=o+"px";!1!==e.top?(t.style.getPropertyValue("--offset-top")!==a&&(t.style.setProperty("--offset-top",a),e.top=parseInt(window.getComputedStyle(t,null).getPropertyValue("top").replace("px",""))||0,n=t.getBoundingClientRect()),Math.abs(e.top-n.top)<1&&(o+=n.height,i=window.scrollY>0)):!1!==e.bottom&&(a=s+"px",t.style.getPropertyValue("--offset-bottom")!==a&&(t.style.setProperty("--offset-bottom",a),e.bottom=parseInt(window.getComputedStyle(t,null).getPropertyValue("bottom").replace("px",""))||0,n=t.getBoundingClientRect()),Math.abs(window.innerHeight-n.height-n.top-e.bottom)<1&&(s+=n.height,i=!0)),!i&&t.classList.contains("is_fixed")?t.classList.remove("is_fixed"):i&&!t.classList.contains("is_fixed")&&t.classList.add("is_fixed")})),i(document.body,"--offset-top",o+"px"),i(document.body,"--offset-bottom",s+"px"),i(document.body,"--offset-scroll",e+"px"),n){var r=n.getBoundingClientRect();r.y>0?i(document.body,"--offset-header",r.y+"px"):i(document.body,"--offset-header","0px")}}function i(e,t,n){e.style.getPropertyValue(t)!==n&&e.style.setProperty(t,n)}window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("load",o,{passive:!0}),o()})),Twee.addModule("tables","html",(function(e,t){e(".content > table",t).wrap('<div class="table"></div>')}));
//# sourceMappingURL=scripts.js.map
